<!-- The main view, from here you can POST new data into the table, the edit replace and delete handle the PATCH, PUT, and DELETE  -->


<!DOCTYPE html>
<html>
<head>
    <title>Tasks</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1>Tasks</h1>
    <ul>
        <% tasks.forEach(task => { %>
            <li>
                ID: <%= task.id %>, Name: <%= task.name %>, Description: <%= task.description %>, Status: <%= task.status %>, Due Date: <%= task.due_date.toDateString() %>
                <!-- Edit Link, used to PATCH data -->
                <a href="/tasks/patch/<%= task.id %>" class="edit-button">Edit</a>
                
                <!-- Replace Link, used to PUT data -->
                <a href="/tasks/edit/<%= task.id %>" class="replace-button">Replace</a>
                
                <!-- Delete button, used to DELETE data -->
                <form action="/tasks/delete/<%= task.id %>?_method=DELETE" method="POST" style="display: inline;">
                    <button type="submit" class="delete-button">Delete</button>
                </form>
            </li>
        <% }) %>
    </ul>

    <!-- The POST method to insert a whole new entry into the database -->
    <h2>Add Task</h2>
    <form action="/tasks/create" method="POST">
        <input type="text" name="name" placeholder="Task Name" required>
        <textarea name="description" placeholder="Description"></textarea>
        <select name="status">
            <option value="Pending">Pending</option>
            <option value="Done">Done</option>
            <option value="Pass due">Pass due</option>
        </select>
        <input type="date" name="due_date" required>
        <button type="submit" class = "button">Add Task</button>
    </form>
</body>
</html>